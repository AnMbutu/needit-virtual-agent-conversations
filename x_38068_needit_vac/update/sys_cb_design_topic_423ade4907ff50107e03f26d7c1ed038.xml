<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__823a5e0188ff501090f850bf373cf1d6">4a3a5e0107ff50107e03f26d7c1ed0d7</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"41f0af73ca5f48ea95be946ffc18ca14","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"41f0af73ca5f48ea95be946ffc18ca14"}],"goals":[{"name":"primary","trigger_id":"41f0af73ca5f48ea95be946ffc18ca14","nodes":[{"type":"StartGoal","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","greeting_msg":{"type":"String","mode":"string","value":"I can help you find and update NeedIt records for a type of request."},"id":"537e34154219402697eec82dd756e900","name":"Start"},{"type":"TerminateGoal","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","confirmation_msg":{"type":"String","mode":"string","value":"Ask again when you need to update other NeedIt records."},"id":"f541a420dbe444cda170dd405cbf825d","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"2255b6aa5130478eb1a3cd833debcda4","name":"NeedIt Type","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"b337468b96e44d8fbe81550c22278255","message":{"type":"String","mode":"string","value":"Which type of NeedIt record would you like to view?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n    return 'You selected: ' + vaInputs.needit_type.getDisplayValue();\n})()\n"},"id":"23feea3c3d8e49e4aa31c8a5ff2dc765","name":"Confirm NeedIt Type","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"74122324af5448bc8bec766d19166a60","name":"NeedIt List","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"202fe1d3c5304db1876afeb2d9d441d0","message":{"type":"String","mode":"string","value":"Select a NeedIt record to view."},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"expression_mode":"script","script":"(function execute(table) {\n// Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.orderBy('u_when_needed');\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n})(table)\n","no_options_found_message":{"type":"String","mode":"string","value":"You have no open NeedIt records."},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n// Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.orderBy('u_when_needed');\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n})(table)\n"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"202fe1d3c5304db1876afeb2d9d441d0","fields":["priority","short_description","u_when_needed"],"id":"9308ad510c214a5a99e3e58230d08a00","name":"NeedIt Card","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"InputPrompt","variable_id":"26ee4ed79dd14a03a05dd561d8ed5221","message":{"type":"String","mode":"string","value":"Would you like to view another NeedIt Record?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"2fe98d841241424ca71216f652a59979","name":"Search Again","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Find more NeedIt records?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"ee2a31eeff004310861824e6621e28d0","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"3abd36526abf49688b7e25c8e77b1593","name":"Yes"}],"id":"41e125bf8a8142aab062d79d584e7bc5","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077"},{"type":"InputPrompt","variable_id":"e108bc500d3647bc883c3a1bfde6ebd6","message":{"type":"String","mode":"string","value":"When do you need the NeedIt completed?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"83f60561d7014e4e848a902d039c2c7c","name":"New When Needed Date","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs.new_when_needed_date}}","variable_id":"202fe1d3c5304db1876afeb2d9d441d0","id":"19a6fb56ede943899f2227807f42a95c","name":"Change When Needed Date","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"202fe1d3c5304db1876afeb2d9d441d0","fields":["u_when_needed","short_description"],"id":"9dfbce8c3f924d62b3ae63ea5e835ab1","name":"Updated NeedIt","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"9e62b183eb784ffca73f62f832424ad5","name":"Update NeedIt Field","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"594ca00db80d4792b2e39e6251e65cfa","message":{"type":"String","mode":"string","value":"Please select Short description or When needed date to update"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"Decision","name":"Selected Field to update","branches":[{"type":"Branch","label":"When needed date","expression":{"type":"Applicability","mode":"query","value":"update_needit_field=when_needed_date"},"id":"95224bfc37934fab9beb14355b4952fc","name":"When needed date"},{"type":"Branch","label":"Nothing","expression":{"type":"Applicability","mode":"query","value":"update_needit_field=nothing"},"id":"8bf999ab89e0458ab44ce7d9fd742257","name":"Nothing"},{"type":"Branch","label":"Short description","expression":{"type":"Applicability","mode":"query","value":"update_needit_field=short_description"},"id":"fa66607d5b784783b600c2fc63728b16","name":"Short description"}],"id":"f1d375f0cd044facaa6558346579a2e3","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077"},{"type":"InputPrompt","variable_id":"e15be8afd8d54ab3b8c69def6ead0379","message":{"type":"String","mode":"string","value":"Please enter a short description"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"3349cb752998486da8ac5cb3bbbe78e5","name":"Input Short Description","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"short_description={{vaInputs.input_short_description}}","variable_id":"202fe1d3c5304db1876afeb2d9d441d0","id":"96ac0d9ff2914bccab3e8ba09820a038","name":"Change Short Description","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    // Add 1 to the search_count variable\n    vaVars.search_count = vaVars.search_count + 1;\n})()\n","id":"411cdbae7f154331b4a57191fc0a6a88","name":"Update search_count","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Check Search Count","branches":[{"type":"Branch","label":"Search &lt; 3","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    // If the value of search_count is less than 3, return true\n\t// otherwise, return false\n    if(vaVars.search_count &lt; 3) {\n        return true;\n    } else {\n        return false;\n    }\n})()\n"},"id":"5ec713e1edd34c54a29c066eb26e5f43","name":"Search &lt; 3"},{"type":"Branch","label":"Search &gt; 3","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    // If the value of search_count is less than 3, return true\n\t// otherwise, return false\n    if(vaVars.search_count &gt;= 3) {\n        return true;\n    } else {\n        return false;\n    }\n})()\n"},"id":"78fc561695f84c4d97462b40d036406c","name":"Search &gt; 3"}],"id":"f0d730b6a9314c78b4c6785b365298b9","goal_id":"7dbeba3f49644bf295ed61c1c1cc1077"}],"edges":[{"type":"Edge","source_node_id":"537e34154219402697eec82dd756e900","target_node_id":"2255b6aa5130478eb1a3cd833debcda4","id":"4f5df4c9704f45a0aab5c51a05a72373"},{"type":"Edge","source_node_id":"2255b6aa5130478eb1a3cd833debcda4","target_node_id":"23feea3c3d8e49e4aa31c8a5ff2dc765","id":"6e14bbc15b35403d8650aaca1fa75532"},{"type":"Edge","source_node_id":"23feea3c3d8e49e4aa31c8a5ff2dc765","target_node_id":"74122324af5448bc8bec766d19166a60","id":"1fa163a500284f048f142ad632fdad03"},{"type":"Edge","source_node_id":"74122324af5448bc8bec766d19166a60","target_node_id":"9308ad510c214a5a99e3e58230d08a00","id":"18cf14b84df24973b2fd9f3c302e634e"},{"type":"Edge","source_node_id":"2fe98d841241424ca71216f652a59979","target_node_id":"41e125bf8a8142aab062d79d584e7bc5","id":"4ba787b9926a4b6993171eede4155535"},{"type":"Edge","source_node_id":"41e125bf8a8142aab062d79d584e7bc5","target_node_id":"f541a420dbe444cda170dd405cbf825d","branch_id":"ee2a31eeff004310861824e6621e28d0","id":"1090017a5fb14726bfdefe4b76e918ab","name":"ee2a31eeff004310861824e6621e28d0"},{"type":"Edge","source_node_id":"83f60561d7014e4e848a902d039c2c7c","target_node_id":"19a6fb56ede943899f2227807f42a95c","id":"d1f72a6c0f6248179cbfcf753be7390e"},{"type":"Edge","source_node_id":"19a6fb56ede943899f2227807f42a95c","target_node_id":"9dfbce8c3f924d62b3ae63ea5e835ab1","id":"ab1b7ebb09cd43db9ee56923089ba732"},{"type":"Edge","source_node_id":"9dfbce8c3f924d62b3ae63ea5e835ab1","target_node_id":"2fe98d841241424ca71216f652a59979","id":"6056454c8dce4e7e82e87ed3990ff5d2"},{"type":"Edge","source_node_id":"9308ad510c214a5a99e3e58230d08a00","target_node_id":"9e62b183eb784ffca73f62f832424ad5","id":"33ceb9f4edaf44758a5f36ac6561c0fd"},{"type":"Edge","source_node_id":"9e62b183eb784ffca73f62f832424ad5","target_node_id":"f1d375f0cd044facaa6558346579a2e3","id":"62bd1210d88348af8aa96fb29d5b356a"},{"type":"Edge","source_node_id":"f1d375f0cd044facaa6558346579a2e3","target_node_id":"83f60561d7014e4e848a902d039c2c7c","branch_id":"95224bfc37934fab9beb14355b4952fc","id":"c57092ec4ecd41119221a4de62e0eb69","name":"95224bfc37934fab9beb14355b4952fc"},{"type":"Edge","source_node_id":"f1d375f0cd044facaa6558346579a2e3","target_node_id":"2fe98d841241424ca71216f652a59979","branch_id":"8bf999ab89e0458ab44ce7d9fd742257","id":"e839d1adb42a4ca490ebda5919885377","name":"8bf999ab89e0458ab44ce7d9fd742257"},{"type":"Edge","source_node_id":"f1d375f0cd044facaa6558346579a2e3","target_node_id":"3349cb752998486da8ac5cb3bbbe78e5","branch_id":"fa66607d5b784783b600c2fc63728b16","id":"6dcc59fa8a574323979b8bc0576c6018","name":"fa66607d5b784783b600c2fc63728b16"},{"type":"Edge","source_node_id":"3349cb752998486da8ac5cb3bbbe78e5","target_node_id":"96ac0d9ff2914bccab3e8ba09820a038","id":"bec54224da284f8497f48f2759efe260"},{"type":"Edge","source_node_id":"96ac0d9ff2914bccab3e8ba09820a038","target_node_id":"9dfbce8c3f924d62b3ae63ea5e835ab1","id":"9bc34dc28d084944a86057751457e8b2"},{"type":"Edge","source_node_id":"41e125bf8a8142aab062d79d584e7bc5","target_node_id":"411cdbae7f154331b4a57191fc0a6a88","branch_id":"3abd36526abf49688b7e25c8e77b1593","id":"bff54b709baa4aa0992b58404c84d77e","name":"3abd36526abf49688b7e25c8e77b1593"},{"type":"Edge","source_node_id":"411cdbae7f154331b4a57191fc0a6a88","target_node_id":"f0d730b6a9314c78b4c6785b365298b9","id":"e1262d8249884d3aa9c6781497a69b95"},{"type":"Edge","source_node_id":"f0d730b6a9314c78b4c6785b365298b9","target_node_id":"2255b6aa5130478eb1a3cd833debcda4","branch_id":"5ec713e1edd34c54a29c066eb26e5f43","id":"4143bd521e1f4e84944043522d185f86","name":"5ec713e1edd34c54a29c066eb26e5f43"},{"type":"Edge","source_node_id":"f0d730b6a9314c78b4c6785b365298b9","target_node_id":"f541a420dbe444cda170dd405cbf825d","branch_id":"78fc561695f84c4d97462b40d036406c","id":"44980e6a762b4956965420f2397b3794","name":"78fc561695f84c4d97462b40d036406c"}],"id":"7dbeba3f49644bf295ed61c1c1cc1077"}],"script_variables":[{"type":"String","name":"search_count","value":{"type":"String","mode":"string","value":"0"},"id":"9d7d133dbb044277b1aef4428beca767"}],"glide_variables":[{"type":"Reference","table":"sys_user","id":"current-user","name":"user"},{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"human resources"}],"id":"b337468b96e44d8fbe81550c22278255","name":"needit_type"},{"type":"Reference","table":"x_58872_needit_needit","id":"202fe1d3c5304db1876afeb2d9d441d0","name":"needit_list"},{"type":"True/False","id":"26ee4ed79dd14a03a05dd561d8ed5221","name":"search_again"},{"type":"Date/Time","mode":"date","id":"e108bc500d3647bc883c3a1bfde6ebd6","name":"new_when_needed_date"},{"type":"Reference","table":"","id":"d4d59a992dc9468c9543f9c70c908907","name":"change_when_needed_date"},{"type":"Choice","choices":[{"name":"Short description","element":"short_description"},{"name":"When needed date","element":"when_needed_date"},{"name":"Nothing","element":"nothing"}],"id":"594ca00db80d4792b2e39e6251e65cfa","name":"update_needit_field"},{"type":"String","name":"input_short_description","id":"e15be8afd8d54ab3b8c69def6ead0379"},{"type":"Reference","table":"","id":"195061e708b54132999dab19f38f475d","name":"change_short_description"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"2559df34073f10107e03f26d7c1ed093","domain":"global","id":"db7f3bf4073350107e03f26d7c1ed043","name":"_PRVW__823a5e0188ff501090f850bf373cf1d6","key_phrases":["Update NeedIt Records","update NeedIt request","update something"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"b62a537c073f10107e03f26d7c1ed03b","library":false}</design_definition>
        <design_topic_id>db7f3bf4073350107e03f26d7c1ed043</design_topic_id>
        <name>_PRVW__823a5e0188ff501090f850bf373cf1d6</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>n000001t</sys_created_by>
        <sys_created_on>2020-10-10 06:52:48</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>423ade4907ff50107e03f26d7c1ed038</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt Virtual Agent Conversations" source="x_38068_needit_vac">2559df34073f10107e03f26d7c1ed093</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt Virtual Agent Conversations">2559df34073f10107e03f26d7c1ed093</sys_scope>
        <sys_update_name>sys_cb_design_topic_423ade4907ff50107e03f26d7c1ed038</sys_update_name>
        <sys_updated_by>n000001t</sys_updated_by>
        <sys_updated_on>2020-10-10 06:52:48</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
